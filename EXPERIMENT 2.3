



mysql> delimiter $$
mysql> create trigger backup
    -> before update
    -> on CUSTOMER
    -> for each row
    -> begin
    -> insert into CUSTOMER_backup
    -> values(old.id,old.name,old.address,old.city,old.ph_no);                 
    -> end $$
Query OK, 0 rows affected (0.08 sec)

mysql> delimiter ;
mysql>  create table CUSTOMER_backup(id int,name varchar(20),address varchar(30),city varchar(20),ph_no int);
Query OK, 0 rows affected (0.31 sec)

mysql> select * from CUSTOMER;
+----+-------+-----------+------------+---------+
| id | name  | address   | city       | ph_no   |
+----+-------+-----------+------------+---------+
|  1 | priya | kozhikode | kannur     | 2378959 |
|  2 | siya  | kannur    | Calicut    | 2378594 |
|  3 | nidha | kollam    | kannur     | 2356976 |
|  4 | diya  | kannur    | Calicut    | 2356746 |
|  5 | naza  | Kochi     | Trissur    | 2357987 |
|  6 | sana  | kannur    | Calicut    | 2378965 |
| 77 | sheza | kannur    | thalassery | 2387899 |
| 88 | hana  | kalathode | calicut    |    NULL |
| 99 | dhana | vadakara  | calicut    |    NULL |
+----+-------+-----------+------------+---------+
9 rows in set (0.00 sec)

mysql> update CUSTOMER set name='fadhiya' where id='4';
Query OK, 1 row affected (0.15 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from CUSTOMER;
+----+---------+-----------+------------+---------+
| id | name    | address   | city       | ph_no   |
+----+---------+-----------+------------+---------+
|  1 | priya   | kozhikode | kannur     | 2378959 |
|  2 | siya    | kannur    | Calicut    | 2378594 |
|  3 | nidha   | kollam    | kannur     | 2356976 |
|  4 | fadhiya | kannur    | Calicut    | 2356746 |
|  5 | naza    | Kochi     | Trissur    | 2357987 |
|  6 | sana    | kannur    | Calicut    | 2378965 |
| 77 | sheza   | kannur    | thalassery | 2387899 |
| 88 | hana    | kalathode | calicut    |    NULL |
| 99 | dhana   | vadakara  | calicut    |    NULL |
+----+---------+-----------+------------+---------+
9 rows in set (0.00 sec)


