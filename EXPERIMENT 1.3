    a) TCL COMMANDS


1. Commit

use fida;
Database changed
mysql> SET AUTOCOMMIT=OFF;
Query OK, 0 rows affected (0.00 sec)

mysql> select * from employe;
+------+-------+-----------+------+-----------+
| SSN  | name  | city      | dob  | adhar_no  |
+------+-------+-----------+------+-----------+
|   11 | siya  | kannur    | 2001 | 896709456 |
|   22 | nidha | kozhikode | 2002 | 675489064 |
|   33 | neha  | kannur    | 1987 | 784503488 |
|   44 | sana  | kohikode  | 2003 | 766756894 |
|   55 | liya  | kohikode  | 2004 | 566756894 |
+------+-------+-----------+------+-----------+
5 rows in set (0.00 sec)

mysql> INSERT INTO employe VALUES(066,'naza','mahe',1998,878756567);
Query OK, 1 row affected (0.00 sec)

mysql> select * from employe;
+------+-------+-----------+------+-----------+
| SSN  | name  | city      | dob  | adhar_no  |
+------+-------+-----------+------+-----------+
|   11 | siya  | kannur    | 2001 | 896709456 |
|   22 | nidha | kozhikode | 2002 | 675489064 |
|   33 | neha  | kannur    | 1987 | 784503488 |
|   44 | sana  | kohikode  | 2003 | 766756894 |
|   55 | liya  | kohikode  | 2004 | 566756894 |
|   66 | naza  | mahe      | 1998 | 878756567 |
+------+-------+-----------+------+-----------+
6 rows in set (0.00 sec)

`````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````

 2.    Rollback
 
 mysql> select * from employe;
+------+-------+-----------+------+-----------+
| SSN  | name  | city      | dob  | adhar_no  |
+------+-------+-----------+------+-----------+
|   11 | siya  | kannur    | 2001 | 896709456 |
|   22 | nidha | kozhikode | 2002 | 675489064 |
|   33 | neha  | kannur    | 1987 | 784503488 |
|   44 | sana  | kohikode  | 2003 | 766756894 |
|   55 | liya  | kohikode  | 2004 | 566756894 |
|   66 | naza  | mahe      | 1998 | 878756567 |
+------+-------+-----------+------+-----------+
6 rows in set (0.01 sec)


mysql>  INSERT INTO employe VALUES(077,'sreya','kannur',2002,878756565);
Query OK, 1 row affected (0.00 sec)

mysql> select * from employe;
+------+-------+-----------+------+-----------+
| SSN  | name  | city      | dob  | adhar_no  |
+------+-------+-----------+------+-----------+
|   11 | siya  | kannur    | 2001 | 896709456 |
|   22 | nidha | kozhikode | 2002 | 675489064 |
|   33 | neha  | kannur    | 1987 | 784503488 |
|   44 | sana  | kohikode  | 2003 | 766756894 |
|   55 | liya  | kohikode  | 2004 | 566756894 |
|   66 | naza  | mahe      | 1998 | 878756567 |
|   77 | sreya | kannur    | 2002 | 878756565 |
+------+-------+-----------+------+-----------+
7 rows in set (0.00 sec)

mysql>  ROLLBACK;
Query OK, 0 rows affected (0.07 sec)

mysql> select * from employe;
+------+-------+-----------+------+-----------+
| SSN  | name  | city      | dob  | adhar_no  |
+------+-------+-----------+------+-----------+
|   11 | siya  | kannur    | 2001 | 896709456 |
|   22 | nidha | kozhikode | 2002 | 675489064 |
|   33 | neha  | kannur    | 1987 | 784503488 |
|   44 | sana  | kohikode  | 2003 | 766756894 |
|   55 | liya  | kohikode  | 2004 | 566756894 |
+------+-------+-----------+------+-----------+
5 rows in set (0.00 sec)

``````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````
3.Savepoint


mysql>  INSERT INTO employe VALUES(077,'sreya','kannur',2002,878756565);
Query OK, 1 row affected (0.00 sec)

mysql>  ROLLBACK;
Query OK, 0 rows affected (0.05 sec)

mysql> select * from employe;
+------+-------+-----------+------+-----------+
| SSN  | name  | city      | dob  | adhar_no  |
+------+-------+-----------+------+-----------+
|   11 | siya  | kannur    | 2001 | 896709456 |
|   22 | nidha | kozhikode | 2002 | 675489064 |
|   33 | neha  | kannur    | 1987 | 784503488 |
|   44 | sana  | kohikode  | 2003 | 766756894 |
|   55 | liya  | kohikode  | 2004 | 566756894 |
+------+-------+-----------+------+-----------+
5 rows in set (0.00 sec)

mysql>  INSERT INTO employe VALUES(077,'anusree','kannur',2002,878756565);
Query OK, 1 row affected (0.00 sec)

mysql> SAVEPOINT A;
Query OK, 0 rows affected (0.00 sec)

mysql> COMMIT;
Query OK, 0 rows affected (0.04 sec)

mysql>  INSERT INTO employe VALUES(088,'Hanna','Thrissur',2001,978756565);
Query OK, 1 row affected (0.00 sec)

mysql> SAVEPOINT B;
Query OK, 0 rows affected (0.00 sec)

mysql>  INSERT INTO employe VALUES(099,'anjana','Wayanad',1999,758756565);
Query OK, 1 row affected (0.00 sec)

mysql> SAVEPOINT C;
Query OK, 0 rows affected (0.00 sec)

mysql> select * from employe;
+------+---------+-----------+------+-----------+
| SSN  | name    | city      | dob  | adhar_no  |
+------+---------+-----------+------+-----------+
|   11 | siya    | kannur    | 2001 | 896709456 |
|   22 | nidha   | kozhikode | 2002 | 675489064 |
|   33 | neha    | kannur    | 1987 | 784503488 |
|   44 | sana    | kohikode  | 2003 | 766756894 |
|   55 | liya    | kohikode  | 2004 | 566756894 |
|   77 | anusree | kannur    | 2002 | 878756565 |
|   88 | Hanna   | Thrissur  | 2001 | 978756565 |
|   99 | anjana  | Wayanad   | 1999 | 758756565 |
+------+---------+-----------+------+-----------+
8 rows in set (0.00 sec)


mysql> ROLLBACK TO B;
Query OK, 0 rows affected (0.00 sec)

mysql> select * from employe;
+------+---------+-----------+------+-----------+
| SSN  | name    | city      | dob  | adhar_no  |
+------+---------+-----------+------+-----------+
|   11 | siya    | kannur    | 2001 | 896709456 |
|   22 | nidha   | kozhikode | 2002 | 675489064 |
|   33 | neha    | kannur    | 1987 | 784503488 |
|   44 | sana    | kohikode  | 2003 | 766756894 |
|   55 | liya    | kohikode  | 2004 | 566756894 |
|   77 | anusree | kannur    | 2002 | 878756565 |
|   88 | Hanna   | Thrissur  | 2001 | 978756565 |
+------+---------+-----------+------+-----------+
7 rows in set (0.00 sec)

`````````````````````````````````````````````````````````````````````````````````````

b) DCL COMMAND

          Create two users user1, user2
         1.GRANT
                ->Give insert and select privilege to user 1 on customer table in the invoice database.
                ->Give update and delete privilege to user 2 on all tables in the invoice database.


CREATE USER 'USER2'@'localhost' IDENTIFIED BY 'mypass1'
    -> ;
Query OK, 0 rows affected (0.00 sec)

mysql> GRANT INSERT,SELECT ON CUSTOMER TO 'USER1'@'localhost';
Query OK, 0 rows affected (0.00 sec)

mysql> GRANT DELETE,UPDATE ON INVOICE.* TO 'USER2'@'localhost';
Query OK, 0 rows affected (0.00 sec)

mysql> SHOW GRANTS;
+---------------------------------------------------------------------+
| Grants for root@localhost                                           |
+---------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION |
| GRANT PROXY ON ''@'' TO 'root'@'localhost' WITH GRANT OPTION        |
+---------------------------------------------------------------------+
2 rows in set (0.00 sec)

mysql> ^DBye
ksb@ksb-ThinkCentre-Edge72:~$ mysql -u USER1 -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 4
Server version: 5.7.41-0ubuntu0.18.04.1 (Ubuntu)

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> SHOW GRANTS;
+---------------------------------------------------------------------+
| Grants for USER1@localhost                                          |
+---------------------------------------------------------------------+
| GRANT USAGE ON *.* TO 'USER1'@'localhost'                           |
| GRANT SELECT, INSERT ON `INVOICE`.`CUSTOMER` TO 'USER1'@'localhost' |
+---------------------------------------------------------------------+
2 rows in set (0.00 sec)

mysql> show Grants;
+------------------------------------------------------------+
| Grants for USER2@localhost                                 |
+------------------------------------------------------------+
| GRANT USAGE ON *.* TO 'USER2'@'localhost'                  |
| GRANT UPDATE, DELETE ON `INVOICE`.* TO 'USER2'@'localhost' |
+------------------------------------------------------------+
2 rows in set (0.00 sec)

``````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````

 2.      REVOKE
 
          ->Remove delete privilege of user 2.
          

